<div class="container">
    <mat-toolbar>
        <span>Users</span>
        <div class="spacer"></div>

        <button mat-raised-button color="primary" (click)="editUser()">Add</button>
    </mat-toolbar>

    <mat-form-field appearance="standard">
      <mat-label>Search</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Enter the name or last name" #input>
    </mat-form-field>

      <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" >

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let user"> {{user?.firstName}} </td>
        </ng-container>
      
        <ng-container matColumnDef="lastName">
          <th mat-header-cell *matHeaderCellDef> Last Name </th>
          <td mat-cell *matCellDef="let user"> {{user?.lastName}} </td>
        </ng-container>
      
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef> Email </th>
          <td mat-cell *matCellDef="let user"> {{user?.email}} </td>
        </ng-container>
      
        <ng-container matColumnDef="phoneNumber">
          <th mat-header-cell *matHeaderCellDef> Phone Number </th>
          <td mat-cell *matCellDef="let user"> {{user?.phoneNumber}} </td>
        </ng-container>

        <ng-container matColumnDef="category">
            <th mat-header-cell *matHeaderCellDef> Category </th>
            <td mat-cell *matCellDef="let user" >  {{user?.category?.category}} </td>
        </ng-container>

        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef style="text-align: right;"></th>
            <td mat-cell *matCellDef="let user" style="text-align: right;">
              <a class="cursor-pointer" style="color: #1878b0" matTooltip="Edit">
                <mat-icon a class="cursor-pointer" (click)="editUser(user)" style="margin-right: 10px">
                  edit
                </mat-icon>
              </a>
              <a class="cursor-pointer" (click)="deleteUser(user.id)" style="color: #7e1912" matTooltip="Delete"> 
                <mat-icon>
                  delete
                </mat-icon>
              </a>  
            </td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    
      <mat-paginator [pageIndex]="pagedResults.pageIndex" [pageSize]="pagedResults.pageSize" [length]="pagedResults.totalPages" [pageSizeOptions]="pageSizeOptions"
        aria-label="Select page of users" (page)="setUsers('', $event.pageIndex, $event.pageSize)" ></mat-paginator>
      </div>
    
</div>